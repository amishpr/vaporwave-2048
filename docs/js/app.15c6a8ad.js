(function(e){function a(a){for(var r,l,i=a[0],u=a[1],v=a[2],c=0,h=[];c<i.length;c++)l=i[c],n[l]&&h.push(n[l][0]),n[l]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);s&&s(a);while(h.length)h.shift()();return o.push.apply(o,v||[]),t()}function t(){for(var e,a=0;a<o.length;a++){for(var t=o[a],r=!0,i=1;i<t.length;i++){var u=t[i];0!==n[u]&&(r=!1)}r&&(o.splice(a--,1),e=l(l.s=t[0]))}return e}var r={},n={app:0},o=[];function l(a){if(r[a])return r[a].exports;var t=r[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=r,l.d=function(e,a,t){l.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,a){if(1&a&&(e=l(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)l.d(t,r,function(a){return e[a]}.bind(null,r));return t},l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,"a",a),a},l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},l.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=a,i=i.slice();for(var v=0;v<i.length;v++)a(i[v]);var s=u;o.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"034f":function(e,a,t){"use strict";var r=t("64a9"),n=t.n(r);n.a},"37fc":function(e,a,t){},"56d7":function(e,a,t){"use strict";t.r(a);var r=t("2b0e"),n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"app"}},[t("Game")],1)},o=[],l=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"gameBoard"},[r("div",[r("h1",[e._v("Vaporwave 2048")]),r("h1",[e._v("Score: "+e._s(e.gameScore))])]),e._l(e.displayBoard,function(a){return r("div",{key:a.key,staticClass:"row"},e._l(a,function(a){return r("div",{key:a.key,staticClass:"tile",attrs:{id:e.setId(a)}},[e._v("\n      "+e._s(a)+"\n    ")])}),0)}),r("img",{staticClass:"statue",attrs:{alt:"David Statue",src:t("8e53")}}),r("img",{staticClass:"arrowKeys",attrs:{alt:"Use arrow keys to move blocks",src:t("8b5c")}})],2)},i=[],u=t("8aa5"),v=t.n(u),s={name:"game",data:function(){return{currentHighScore:0,name:"",gameBoard:[[{value:0},{value:0},{value:0},{value:0}],[{value:0},{value:0},{value:0},{value:0}],[{value:0},{value:0},{value:0},{value:0}],[{value:0},{value:0},{value:0},{value:0}]],boardChanged:!1}},mounted:function(){var e=this,a=v.a.firestore(),t=a.collection("highscores").doc("highscore");t.get().then(function(a){a.exists?(console.log("Firebase: ",a.data()),e.currentHighScore=a.data().Score,e.name=a.data().Name):console.error("ERROR: DB NOT FOUND")}).catch(function(e){console.log(e)}),e.initializeStartingPlaceOfTwo(),e.initializeStartingPlaceOfTwo(),document.addEventListener("keydown",function(a){if(39===a.which)e.slideRight();else if(37===a.which)e.slideLeft();else if(38===a.which)e.slideUp();else{if(40!==a.which)return;e.slideDown()}e.boardChanged&&(e.initializeStartingPlaceOfTwo(),e.boardChanged=!1)})},computed:{displayBoard:function(){return this.gameBoard.map(function(e){return e.map(function(e){return e.value})})},gameScore:function(){for(var e=this.gameBoard,a=0,t=0;t<e.length;t++)for(var r=e[t],n=0;n<r.length;n++)2!==r[n].value&&(a+=r[n].value);return a},isWinner:function(){for(var e=this.gameBoard,a=0;a<e.length;a++)for(var t=e[a],r=0;r<t.length;r++)if(2048===t[r].value)return!0;return!1},isLoser:function(){for(var e=this.gameBoard,a=0;a<e.length;a++)for(var t=e[a],r=0;r<t.length;r++){if(0===t[r].value)return!1;if(0!==t[r].value&&0!==r&&t[r].value===t[r-1].value)return!1}return!0}},methods:{boardHasChanged:function(){this.boardChanged=!0},initializeStartingPlaceOfTwo:function(){var e=this,a=function(){var a=e.gameBoard[Math.floor(Math.random()*e.gameBoard.length)];return a[Math.floor(Math.random()*a.length)]},t=a();while(0!=t.value)t=a();t.value=2},slideUp:function(){for(var e=this.gameBoard,a=0;a<e.length;a++){var t=1,r=0;while(t<4)e[t][a].value===e[r][a].value?(e[r][a].value=e[t][a].value+e[r][a].value,e[t][a].value=0,this.boardHasChanged(),r++,t++):0===e[r][a].value&&0===e[r][a].value||0===e[r][a].value||0!=e[t][a].value&&0!=e[r][a].value&&t-1==r?(r++,t++):0!=e[t][a].value&&0!=e[r][a].value?r++:0===e[t][a].value&&t++;for(var n=0;n<e.length;n++)for(var o=0;o<e.length-1;o++)if(0===e[o][a].value){var l=e[o+1][a].value;e[o+1][a].value=0,e[o][a].value=l,this.boardHasChanged()}}},slideDown:function(){for(var e=this.gameBoard,a=0;a<e.length;a++){var t=this.gameBoard.length-2,r=this.gameBoard.length-1;while(t>=0)e[t][a].value===e[r][a].value?(e[r][a].value=e[t][a].value+e[r][a].value,e[t][a].value=0,this.boardHasChanged(),r--,t--):0===e[r][a].value&&0===e[r][a].value||0===e[r][a].value||0!=e[t][a].value&&0!=e[r][a].value&&t+1==r?(r--,t--):0!=e[t][a].value&&0!=e[r][a].value?r--:0===e[t][a].value&&t--;for(var n=0;n<e.length;n++)for(var o=e.length-1;o>0;o--)if(0===e[o][a].value){var l=e[o-1][a].value;e[o-1][a].value=0,e[o][a].value=l,this.boardHasChanged()}}},slideLeft:function(){for(var e=this.gameBoard,a=0;a<e.length;a++){var t=1,r=0;while(t<4)e[a][t].value===e[a][r].value?(e[a][r].value=e[a][t].value+e[a][r].value,e[a][t].value=0,this.boardHasChanged(),r++,t++):0===e[a][r].value&&0===e[a][r].value||0===e[a][r].value||0!=e[a][t].value&&0!=e[a][r].value&&t-1==r?(r++,t++):0!=e[a][t].value&&0!=e[a][r].value?r++:0===e[a][t].value&&t++;for(var n=0;n<e.length;n++)for(var o=0;o<e.length-1;o++)if(0===e[a][o].value){var l=e[a][o+1].value;e[a][o+1].value=0,e[a][o].value=l,this.boardHasChanged()}}},slideRight:function(){for(var e=this.gameBoard,a=0;a<e.length;a++){var t=this.gameBoard.length-2,r=this.gameBoard.length-1;while(t>=0)e[a][t].value===e[a][r].value?(e[a][r].value=e[a][t].value+e[a][r].value,e[a][t].value=0,this.boardHasChanged(),r--,t--):0===e[a][r].value&&0===e[a][r].value||0===e[a][r].value||0!=e[a][t].value&&0!=e[a][r].value&&t+1==r?(r--,t--):0!=e[a][t].value&&0!=e[a][r].value?r--:0===e[a][t].value&&t--;for(var n=0;n<e.length;n++)for(var o=e.length-1;o>0;o--)if(0===e[a][o].value){var l=e[a][o-1].value;e[a][o-1].value=0,e[a][o].value=l,this.boardHasChanged()}}},saveHighScore:function(){var e=this,a=v.a.firestore(),t=a.collection("highscores").doc("highscore");setTimeout(function(){var a=prompt("HIGH SCORE!!!\nScore: "+e.gameScore+"\nEnter Your Name: ","");t.set({Name:a,Score:e.gameScore}).then(function(){console.log("Successfully wrote to DB!"),alert("Replay?")||window.location.reload()}).catch(function(e){console.error(e)})})},setId:function(e){return 0===e?"zero":2===e?"two":4===e?"four":8===e?"eight":16===e?"sixteen":32===e?"thirtyTwo":64===e?"sixtyFour":128===e?"oneTwentyEight":256===e?"twoFiftySix":512===e?"fiveTwelve":1024===e?"tenTwentyFour":2048===e?"twentyFortyEight":void 0}},watch:{isLoser:function(){var e=this;!0===e.isLoser&&(e.gameScore>=e.currentHighScore?(console.log("LOSER! BUT YOU GOT A HIGH SCORE!"),e.saveHighScore()):(console.log("LOSER! BUT YOU DID'NT GET A HIGH SCORE!"),alert("You lose, no high score :c")||window.location.reload()))},isWinner:function(){var e=this;if(!0===e.isWinner){var a=this;a.saveHighScore()}}}},c=s,h=(t("6792"),t("2877")),f=Object(h["a"])(c,l,i,!1,null,"2c679ecc",null),d=f.exports,g={name:"app",components:{Game:d}},p=g,m=(t("034f"),Object(h["a"])(p,n,o,!1,null,null,null)),w=m.exports,b=t("2f62");r["a"].use(b["a"]);var y=new b["a"].Store({state:{},mutations:{},actions:{}});r["a"].config.productionTip=!1;var S={apiKey:"AIzaSyCKo4Rxkz80cdHaOSPs6QG3H-kzoNbcZwU",authDomain:"project-4135635041756121949.firebaseapp.com",databaseURL:"https://project-4135635041756121949.firebaseio.com",projectId:"project-4135635041756121949",storageBucket:"",messagingSenderId:"696614554516"};v.a.initializeApp(S),new r["a"]({store:y,render:function(e){return e(w)}}).$mount("#app")},"64a9":function(e,a,t){},6792:function(e,a,t){"use strict";var r=t("37fc"),n=t.n(r);n.a},"8b5c":function(e,a,t){e.exports=t.p+"img/arrow_keys.9520964f.gif"},"8e53":function(e,a,t){e.exports=t.p+"img/david.50937dd6.png"}});
//# sourceMappingURL=app.15c6a8ad.js.map